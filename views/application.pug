doctype html
html(lang="en")
head
  title 2020 Workshop Application
  include ./head.pug

body

.container
    .row(style="text-align:center;")
        h1 2020 Workshop Application

    form(name="application" action="/application_2020" method="post" onsubmit="return validateApplication()")
        .row
            .six.columns
                label Name
                input.u-full-width(type="text" name="name")

            .six.columns
                label E-Mail
                input.u-full-width(type="text" name="email")
        .row
            .ten.columns
                label Street Address
                input.u-full-width(type="text" name="address")
        .row
            .six.columns
                label City
                input.u-full-width(type="text" name="city")

            .two.columns
                label State
                input.u-full-width(type="text" name="state")
            .four.columns
                label Zip Code
                input.u-full-width(type="text" name="zip")
        .row
            hr
            label Previous Experience
            p.
                As this is an advanced workshop, please describe you experience with Mokuhanga and related activities.
                #[br] #[br]
                Please include dates, locations, primary instructors, as well as any relevant description of work.
            textarea.u-full-width(type="text" style="height:40vh;" rows=10 name="experience")
        .row
            button.button-primary.u-full-width(type="submit" style="text-align:center;") Submit

script. 
    function validateApplication() {
        const application = document.forms.application
        let values = {}
        for (el of application) {
            values[el.name] = el.value
        }
        const { name, email, address, city, state, zip } = values

        const hasAddress = 
            address != "" &&
            city != "" &&
            state != "" &&
            zip  != ""
        const hasEmail = email != ""
        const hasName = name != ""
        const canContact = hasName && (hasEmail || hasAddress)
        
        if (canContact) {
            return true
        }
        
        else {
            alert("Please make sure you have completely filled out the form, including either an active mailing or email address.")
        }
        return false
    }